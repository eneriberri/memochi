<h1>Create Memo</h1>

<form action="<%= memos_url %> " method="POST" accept-charset="utf-8">
  <input type="hidden" name="authenticity_token" value="<%= form_authenticity_token %>">
  
  <input type="hidden" name="memo[user_id]" value="<%= current_user.id %>">
    
    <input type="hidden" name="myDoc">
    <div id="toolBar1">
      <div class="row">
        <div class="large-3 columns pusher">...</div>
       <div class="large-3 columns">
         
         <a href="#" data-dropdown="drop" class="button dropdown">Fonts</a><br>
         <ul id="drop" data-dropdown-content class="f-dropdown fontdrop">
           <li><a href="#">Arial</a></li>
           <li><a href="#">Arial Black</a></li>
           <li><a href="#">Courier New</a></li>
         </ul>
         
         <!-- <select onchange="formatDoc('fontname',this[this.selectedIndex].value);this.selectedIndex=0;">
         <option class="heading" selected>Font</option>
         <option>Arial</option>
         <option>Arial Black</option>
         <option>Courier New</option>
         <option>Times New Roman</option>
         <option>Gilda Display</option>
         <option>Lily Script One</option>
         </select> -->
       </div>
 
        <!-- Font Size -->
        <div class="large-3 columns">
          <select onchange="formatDoc('fontsize',this[this.selectedIndex].value);this.selectedIndex=0;">
          <option class="heading" selected>Size</option>
          <option value="1">Very small</option>
          <option value="2">A bit small</option>
          <option value="3">Smaller</option>
          <option value="4">Medium</option>
          <option value="5">Normal</option>
          <option value="6">Bigger</option>
          <option value="7">Maximum</option>
          </select>
        </div>
        <div class="large-3 columns pusher">...</div>
      </div>
      
      <div class="row">
        <div class="large-3 columns pusher">...</div>
        <div class="large-3 columns">
          <select onchange="formatDoc('forecolor',this[this.selectedIndex].value);this.selectedIndex=0;">
          <option class="heading" selected>Color</option>
          <option value="red">Red</option>
          <option value="blue">Blue</option>
          <option value="green">Green</option>
          <option value="black">Black</option>
          <option value="white">White</option>
          </select>
        </div>
  
        <div class="large-3 columns">
          <select onchange="formatDoc('backcolor',this[this.selectedIndex].value);this.selectedIndex=0;">
          <option class="heading" selected>Background</option>
          <option value="red">Red</option>
          <option value="green">Green</option>
          <option value="black">Black</option>
          <option value="yellow">Yellow</option>
          <option value="white">White</option>
          </select>
        </div>
        
        <div class="large-3 columns pusher">...</div>
      </div>
      
      <div class="row">
        <input type="color" name="background" id="background"
    onchange="formatDoc('backcolor',this[this.selectedIndex].value);this.selectedIndex=0;">
        <br>
      </div>
    </div>
    <div id="toolBar2">

    <img class="intLink" title="Bold" onclick="formatDoc('bold');" src="data:image/gif;base64,R0lGODlhFgAWAID/AMDAwAAAACH5BAEAAAAALAAAAAAWABYAQAInhI+pa+H9mJy0LhdgtrxzDG5WGFVk6aXqyk6Y9kXvKKNuLbb6zgMFADs=" />
    <img class="intLink" title="Italic" onclick="formatDoc('italic');" src="data:image/gif;base64,R0lGODlhFgAWAKEDAAAAAF9vj5WIbf///yH5BAEAAAMALAAAAAAWABYAAAIjnI+py+0Po5x0gXvruEKHrF2BB1YiCWgbMFIYpsbyTNd2UwAAOw==" />
    <img class="intLink" title="Underline" onclick="formatDoc('underline');" src="data:image/gif;base64,R0lGODlhFgAWAKECAAAAAF9vj////////yH5BAEAAAIALAAAAAAWABYAAAIrlI+py+0Po5zUgAsEzvEeL4Ea15EiJJ5PSqJmuwKBEKgxVuXWtun+DwxCCgA7" />
    <img class="intLink" title="Strikethrough" onclick="formatDoc('strikeThrough');" src="data:image/gif;base64,R0lGODlhFgAWAKECAAAAAF9vj////////yH5BAEAAAIALAAAAAAWABYAAAIrlI+py+0Po5zUgAsEzvEeL4Ea15EiJJ5PSqJmuwKBEKgxVuXWtun+DwxCCgA7" />
    <img class="intLink" title="Left align" onclick="formatDoc('justifyleft');" src="data:image/gif;base64,R0lGODlhFgAWAID/AMDAwAAAACH5BAEAAAAALAAAAAAWABYAQAIghI+py+0Po5y02ouz3jL4D4JMGELkGYxo+qzl4nKyXAAAOw==" />
    <img class="intLink" title="Center align" onclick="formatDoc('justifycenter');" src="data:image/gif;base64,R0lGODlhFgAWAID/AMDAwAAAACH5BAEAAAAALAAAAAAWABYAQAIfhI+py+0Po5y02ouz3jL4D4JOGI7kaZ5Bqn4sycVbAQA7" />
    <img class="intLink" title="Right align" onclick="formatDoc('justifyright');" src="data:image/gif;base64,R0lGODlhFgAWAID/AMDAwAAAACH5BAEAAAAALAAAAAAWABYAQAIghI+py+0Po5y02ouz3jL4D4JQGDLkGYxouqzl43JyVgAAOw==" />
    <img class="intLink" title="Add indentation" onclick="formatDoc('outdent');" src="data:image/gif;base64,R0lGODlhFgAWAMIHAAAAADljwliE35GjuaezxtDV3NHa7P///yH5BAEAAAcALAAAAAAWABYAAAM2eLrc/jDKCQG9F2i7u8agQgyK1z2EIBil+TWqEMxhMczsYVJ3e4ahk+sFnAgtxSQDqWw6n5cEADs=" />
    <img class="intLink" title="Delete indentation" onclick="formatDoc('indent');" src="data:image/gif;base64,R0lGODlhFgAWAOMIAAAAADljwl9vj1iE35GjuaezxtDV3NHa7P///////////////////////////////yH5BAEAAAgALAAAAAAWABYAAAQ7EMlJq704650B/x8gemMpgugwHJNZXodKsO5oqUOgo5KhBwWESyMQsCRDHu9VOyk5TM9zSpFSr9gsJwIAOw==" />
    <img class="intLink" title="Hyperlink" onclick="var sLnk=prompt('Write the URL here','http:\/\/');if(sLnk&&sLnk!=''&&sLnk!='http://'){formatDoc('createlink',sLnk)}" src="data:image/gif;base64,R0lGODlhFgAWAOMKAB1ChDRLY19vj3mOrpGjuaezxrCztb/I19Ha7Pv8/f///////////////////////yH5BAEKAA8ALAAAAAAWABYAAARY8MlJq7046827/2BYIQVhHg9pEgVGIklyDEUBy/RlE4FQF4dCj2AQXAiJQDCWQCAEBwIioEMQBgSAFhDAGghGi9XgHAhMNoSZgJkJei33UESv2+/4vD4TAQA7" />

    </div>
    <div id="textBox" name="memo[text]" contenteditable="true" autofocus><span style="color:#bababa;">Write your memo here.</span></div>
  
  <label for="private">Private?</label>
  <input type="checkbox" name="memo[private]" value="true" id="private">
  

  <p><input type="submit" value="Create Memo" class="button"></p>
</form>



<script>
var oDoc, sDefTxt;

function initDoc() {
  oDoc = document.getElementById("textBox");
  sDefTxt = oDoc.innerHTML;
  oDoc.focus();
}

function formatDoc(sCmd, sValue) {
  document.execCommand(sCmd, false, sValue);
  oDoc.focus();
}

initDoc();

$(document).ready(function() {
  $('#textBox').keypress(function(e) {
    $(this).empty();
    $(this).unbind('keypress');
  });
  
  $('.fontdrop').on('click', 'li', function(e) {
    var fontName = $(e.target).text();
    formatDoc('fontname',fontName);
  })         
})
</script>